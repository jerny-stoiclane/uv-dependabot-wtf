{
  "version": 3,
  "sources": ["../../../../../node_modules/d3-flextree/node_modules/d3-hierarchy/src/hierarchy/count.js", "../../../../../node_modules/d3-flextree/node_modules/d3-hierarchy/src/hierarchy/each.js", "../../../../../node_modules/d3-flextree/node_modules/d3-hierarchy/src/hierarchy/eachBefore.js", "../../../../../node_modules/d3-flextree/node_modules/d3-hierarchy/src/hierarchy/eachAfter.js", "../../../../../node_modules/d3-flextree/node_modules/d3-hierarchy/src/hierarchy/sum.js", "../../../../../node_modules/d3-flextree/node_modules/d3-hierarchy/src/hierarchy/sort.js", "../../../../../node_modules/d3-flextree/node_modules/d3-hierarchy/src/hierarchy/path.js", "../../../../../node_modules/d3-flextree/node_modules/d3-hierarchy/src/hierarchy/ancestors.js", "../../../../../node_modules/d3-flextree/node_modules/d3-hierarchy/src/hierarchy/descendants.js", "../../../../../node_modules/d3-flextree/node_modules/d3-hierarchy/src/hierarchy/leaves.js", "../../../../../node_modules/d3-flextree/node_modules/d3-hierarchy/src/hierarchy/links.js", "../../../../../node_modules/d3-flextree/node_modules/d3-hierarchy/src/hierarchy/index.js", "../../../../../node_modules/d3-flextree/node_modules/d3-hierarchy/src/array.js", "../../../../../node_modules/d3-flextree/node_modules/d3-hierarchy/src/treemap/dice.js", "../../../../../node_modules/d3-flextree/node_modules/d3-hierarchy/src/tree.js", "../../../../../node_modules/d3-flextree/node_modules/d3-hierarchy/src/treemap/slice.js", "../../../../../node_modules/d3-flextree/node_modules/d3-hierarchy/src/treemap/squarify.js", "../../../../../node_modules/d3-flextree/node_modules/d3-hierarchy/src/treemap/resquarify.js", "../../../../../node_modules/d3-flextree/package.json", "../../../../../node_modules/d3-flextree/src/flextree.js", "../../../../../node_modules/d3-org-chart/src/d3-org-chart.js"],
  "sourcesContent": ["function count(node) {\n  var sum = 0,\n      children = node.children,\n      i = children && children.length;\n  if (!i) sum = 1;\n  else while (--i >= 0) sum += children[i].value;\n  node.value = sum;\n}\n\nexport default function() {\n  return this.eachAfter(count);\n}\n", "export default function(callback) {\n  var node = this, current, next = [node], children, i, n;\n  do {\n    current = next.reverse(), next = [];\n    while (node = current.pop()) {\n      callback(node), children = node.children;\n      if (children) for (i = 0, n = children.length; i < n; ++i) {\n        next.push(children[i]);\n      }\n    }\n  } while (next.length);\n  return this;\n}\n", "export default function(callback) {\n  var node = this, nodes = [node], children, i;\n  while (node = nodes.pop()) {\n    callback(node), children = node.children;\n    if (children) for (i = children.length - 1; i >= 0; --i) {\n      nodes.push(children[i]);\n    }\n  }\n  return this;\n}\n", "export default function(callback) {\n  var node = this, nodes = [node], next = [], children, i, n;\n  while (node = nodes.pop()) {\n    next.push(node), children = node.children;\n    if (children) for (i = 0, n = children.length; i < n; ++i) {\n      nodes.push(children[i]);\n    }\n  }\n  while (node = next.pop()) {\n    callback(node);\n  }\n  return this;\n}\n", "export default function(value) {\n  return this.eachAfter(function(node) {\n    var sum = +value(node.data) || 0,\n        children = node.children,\n        i = children && children.length;\n    while (--i >= 0) sum += children[i].value;\n    node.value = sum;\n  });\n}\n", "export default function(compare) {\n  return this.eachBefore(function(node) {\n    if (node.children) {\n      node.children.sort(compare);\n    }\n  });\n}\n", "export default function(end) {\n  var start = this,\n      ancestor = leastCommonAncestor(start, end),\n      nodes = [start];\n  while (start !== ancestor) {\n    start = start.parent;\n    nodes.push(start);\n  }\n  var k = nodes.length;\n  while (end !== ancestor) {\n    nodes.splice(k, 0, end);\n    end = end.parent;\n  }\n  return nodes;\n}\n\nfunction leastCommonAncestor(a, b) {\n  if (a === b) return a;\n  var aNodes = a.ancestors(),\n      bNodes = b.ancestors(),\n      c = null;\n  a = aNodes.pop();\n  b = bNodes.pop();\n  while (a === b) {\n    c = a;\n    a = aNodes.pop();\n    b = bNodes.pop();\n  }\n  return c;\n}\n", "export default function() {\n  var node = this, nodes = [node];\n  while (node = node.parent) {\n    nodes.push(node);\n  }\n  return nodes;\n}\n", "export default function() {\n  var nodes = [];\n  this.each(function(node) {\n    nodes.push(node);\n  });\n  return nodes;\n}\n", "export default function() {\n  var leaves = [];\n  this.eachBefore(function(node) {\n    if (!node.children) {\n      leaves.push(node);\n    }\n  });\n  return leaves;\n}\n", "export default function() {\n  var root = this, links = [];\n  root.each(function(node) {\n    if (node !== root) { // Don’t include the root’s parent, if any.\n      links.push({source: node.parent, target: node});\n    }\n  });\n  return links;\n}\n", "import node_count from \"./count.js\";\nimport node_each from \"./each.js\";\nimport node_eachBefore from \"./eachBefore.js\";\nimport node_eachAfter from \"./eachAfter.js\";\nimport node_sum from \"./sum.js\";\nimport node_sort from \"./sort.js\";\nimport node_path from \"./path.js\";\nimport node_ancestors from \"./ancestors.js\";\nimport node_descendants from \"./descendants.js\";\nimport node_leaves from \"./leaves.js\";\nimport node_links from \"./links.js\";\n\nexport default function hierarchy(data, children) {\n  var root = new Node(data),\n      valued = +data.value && (root.value = data.value),\n      node,\n      nodes = [root],\n      child,\n      childs,\n      i,\n      n;\n\n  if (children == null) children = defaultChildren;\n\n  while (node = nodes.pop()) {\n    if (valued) node.value = +node.data.value;\n    if ((childs = children(node.data)) && (n = childs.length)) {\n      node.children = new Array(n);\n      for (i = n - 1; i >= 0; --i) {\n        nodes.push(child = node.children[i] = new Node(childs[i]));\n        child.parent = node;\n        child.depth = node.depth + 1;\n      }\n    }\n  }\n\n  return root.eachBefore(computeHeight);\n}\n\nfunction node_copy() {\n  return hierarchy(this).eachBefore(copyData);\n}\n\nfunction defaultChildren(d) {\n  return d.children;\n}\n\nfunction copyData(node) {\n  node.data = node.data.data;\n}\n\nexport function computeHeight(node) {\n  var height = 0;\n  do node.height = height;\n  while ((node = node.parent) && (node.height < ++height));\n}\n\nexport function Node(data) {\n  this.data = data;\n  this.depth =\n  this.height = 0;\n  this.parent = null;\n}\n\nNode.prototype = hierarchy.prototype = {\n  constructor: Node,\n  count: node_count,\n  each: node_each,\n  eachAfter: node_eachAfter,\n  eachBefore: node_eachBefore,\n  sum: node_sum,\n  sort: node_sort,\n  path: node_path,\n  ancestors: node_ancestors,\n  descendants: node_descendants,\n  leaves: node_leaves,\n  links: node_links,\n  copy: node_copy\n};\n", "export var slice = Array.prototype.slice;\n\nexport function shuffle(array) {\n  var m = array.length,\n      t,\n      i;\n\n  while (m) {\n    i = Math.random() * m-- | 0;\n    t = array[m];\n    array[m] = array[i];\n    array[i] = t;\n  }\n\n  return array;\n}\n", "export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      node,\n      i = -1,\n      n = nodes.length,\n      k = parent.value && (x1 - x0) / parent.value;\n\n  while (++i < n) {\n    node = nodes[i], node.y0 = y0, node.y1 = y1;\n    node.x0 = x0, node.x1 = x0 += node.value * k;\n  }\n}\n", "import {Node} from \"./hierarchy/index.js\";\n\nfunction defaultSeparation(a, b) {\n  return a.parent === b.parent ? 1 : 2;\n}\n\n// function radialSeparation(a, b) {\n//   return (a.parent === b.parent ? 1 : 2) / a.depth;\n// }\n\n// This function is used to traverse the left contour of a subtree (or\n// subforest). It returns the successor of v on this contour. This successor is\n// either given by the leftmost child of v or by the thread of v. The function\n// returns null if and only if v is on the highest level of its subtree.\nfunction nextLeft(v) {\n  var children = v.children;\n  return children ? children[0] : v.t;\n}\n\n// This function works analogously to nextLeft.\nfunction nextRight(v) {\n  var children = v.children;\n  return children ? children[children.length - 1] : v.t;\n}\n\n// Shifts the current subtree rooted at w+. This is done by increasing\n// prelim(w+) and mod(w+) by shift.\nfunction moveSubtree(wm, wp, shift) {\n  var change = shift / (wp.i - wm.i);\n  wp.c -= change;\n  wp.s += shift;\n  wm.c += change;\n  wp.z += shift;\n  wp.m += shift;\n}\n\n// All other shifts, applied to the smaller subtrees between w- and w+, are\n// performed by this function. To prepare the shifts, we have to adjust\n// change(w+), shift(w+), and change(w-).\nfunction executeShifts(v) {\n  var shift = 0,\n      change = 0,\n      children = v.children,\n      i = children.length,\n      w;\n  while (--i >= 0) {\n    w = children[i];\n    w.z += shift;\n    w.m += shift;\n    shift += w.s + (change += w.c);\n  }\n}\n\n// If vi-’s ancestor is a sibling of v, returns vi-’s ancestor. Otherwise,\n// returns the specified (default) ancestor.\nfunction nextAncestor(vim, v, ancestor) {\n  return vim.a.parent === v.parent ? vim.a : ancestor;\n}\n\nfunction TreeNode(node, i) {\n  this._ = node;\n  this.parent = null;\n  this.children = null;\n  this.A = null; // default ancestor\n  this.a = this; // ancestor\n  this.z = 0; // prelim\n  this.m = 0; // mod\n  this.c = 0; // change\n  this.s = 0; // shift\n  this.t = null; // thread\n  this.i = i; // number\n}\n\nTreeNode.prototype = Object.create(Node.prototype);\n\nfunction treeRoot(root) {\n  var tree = new TreeNode(root, 0),\n      node,\n      nodes = [tree],\n      child,\n      children,\n      i,\n      n;\n\n  while (node = nodes.pop()) {\n    if (children = node._.children) {\n      node.children = new Array(n = children.length);\n      for (i = n - 1; i >= 0; --i) {\n        nodes.push(child = node.children[i] = new TreeNode(children[i], i));\n        child.parent = node;\n      }\n    }\n  }\n\n  (tree.parent = new TreeNode(null, 0)).children = [tree];\n  return tree;\n}\n\n// Node-link tree diagram using the Reingold-Tilford \"tidy\" algorithm\nexport default function() {\n  var separation = defaultSeparation,\n      dx = 1,\n      dy = 1,\n      nodeSize = null;\n\n  function tree(root) {\n    var t = treeRoot(root);\n\n    // Compute the layout using Buchheim et al.’s algorithm.\n    t.eachAfter(firstWalk), t.parent.m = -t.z;\n    t.eachBefore(secondWalk);\n\n    // If a fixed node size is specified, scale x and y.\n    if (nodeSize) root.eachBefore(sizeNode);\n\n    // If a fixed tree size is specified, scale x and y based on the extent.\n    // Compute the left-most, right-most, and depth-most nodes for extents.\n    else {\n      var left = root,\n          right = root,\n          bottom = root;\n      root.eachBefore(function(node) {\n        if (node.x < left.x) left = node;\n        if (node.x > right.x) right = node;\n        if (node.depth > bottom.depth) bottom = node;\n      });\n      var s = left === right ? 1 : separation(left, right) / 2,\n          tx = s - left.x,\n          kx = dx / (right.x + s + tx),\n          ky = dy / (bottom.depth || 1);\n      root.eachBefore(function(node) {\n        node.x = (node.x + tx) * kx;\n        node.y = node.depth * ky;\n      });\n    }\n\n    return root;\n  }\n\n  // Computes a preliminary x-coordinate for v. Before that, FIRST WALK is\n  // applied recursively to the children of v, as well as the function\n  // APPORTION. After spacing out the children by calling EXECUTE SHIFTS, the\n  // node v is placed to the midpoint of its outermost children.\n  function firstWalk(v) {\n    var children = v.children,\n        siblings = v.parent.children,\n        w = v.i ? siblings[v.i - 1] : null;\n    if (children) {\n      executeShifts(v);\n      var midpoint = (children[0].z + children[children.length - 1].z) / 2;\n      if (w) {\n        v.z = w.z + separation(v._, w._);\n        v.m = v.z - midpoint;\n      } else {\n        v.z = midpoint;\n      }\n    } else if (w) {\n      v.z = w.z + separation(v._, w._);\n    }\n    v.parent.A = apportion(v, w, v.parent.A || siblings[0]);\n  }\n\n  // Computes all real x-coordinates by summing up the modifiers recursively.\n  function secondWalk(v) {\n    v._.x = v.z + v.parent.m;\n    v.m += v.parent.m;\n  }\n\n  // The core of the algorithm. Here, a new subtree is combined with the\n  // previous subtrees. Threads are used to traverse the inside and outside\n  // contours of the left and right subtree up to the highest common level. The\n  // vertices used for the traversals are vi+, vi-, vo-, and vo+, where the\n  // superscript o means outside and i means inside, the subscript - means left\n  // subtree and + means right subtree. For summing up the modifiers along the\n  // contour, we use respective variables si+, si-, so-, and so+. Whenever two\n  // nodes of the inside contours conflict, we compute the left one of the\n  // greatest uncommon ancestors using the function ANCESTOR and call MOVE\n  // SUBTREE to shift the subtree and prepare the shifts of smaller subtrees.\n  // Finally, we add a new thread (if necessary).\n  function apportion(v, w, ancestor) {\n    if (w) {\n      var vip = v,\n          vop = v,\n          vim = w,\n          vom = vip.parent.children[0],\n          sip = vip.m,\n          sop = vop.m,\n          sim = vim.m,\n          som = vom.m,\n          shift;\n      while (vim = nextRight(vim), vip = nextLeft(vip), vim && vip) {\n        vom = nextLeft(vom);\n        vop = nextRight(vop);\n        vop.a = v;\n        shift = vim.z + sim - vip.z - sip + separation(vim._, vip._);\n        if (shift > 0) {\n          moveSubtree(nextAncestor(vim, v, ancestor), v, shift);\n          sip += shift;\n          sop += shift;\n        }\n        sim += vim.m;\n        sip += vip.m;\n        som += vom.m;\n        sop += vop.m;\n      }\n      if (vim && !nextRight(vop)) {\n        vop.t = vim;\n        vop.m += sim - sop;\n      }\n      if (vip && !nextLeft(vom)) {\n        vom.t = vip;\n        vom.m += sip - som;\n        ancestor = v;\n      }\n    }\n    return ancestor;\n  }\n\n  function sizeNode(node) {\n    node.x *= dx;\n    node.y = node.depth * dy;\n  }\n\n  tree.separation = function(x) {\n    return arguments.length ? (separation = x, tree) : separation;\n  };\n\n  tree.size = function(x) {\n    return arguments.length ? (nodeSize = false, dx = +x[0], dy = +x[1], tree) : (nodeSize ? null : [dx, dy]);\n  };\n\n  tree.nodeSize = function(x) {\n    return arguments.length ? (nodeSize = true, dx = +x[0], dy = +x[1], tree) : (nodeSize ? [dx, dy] : null);\n  };\n\n  return tree;\n}\n", "export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      node,\n      i = -1,\n      n = nodes.length,\n      k = parent.value && (y1 - y0) / parent.value;\n\n  while (++i < n) {\n    node = nodes[i], node.x0 = x0, node.x1 = x1;\n    node.y0 = y0, node.y1 = y0 += node.value * k;\n  }\n}\n", "import treemapDice from \"./dice.js\";\nimport treemapSlice from \"./slice.js\";\n\nexport var phi = (1 + Math.sqrt(5)) / 2;\n\nexport function squarifyRatio(ratio, parent, x0, y0, x1, y1) {\n  var rows = [],\n      nodes = parent.children,\n      row,\n      nodeValue,\n      i0 = 0,\n      i1 = 0,\n      n = nodes.length,\n      dx, dy,\n      value = parent.value,\n      sumValue,\n      minValue,\n      maxValue,\n      newRatio,\n      minRatio,\n      alpha,\n      beta;\n\n  while (i0 < n) {\n    dx = x1 - x0, dy = y1 - y0;\n\n    // Find the next non-empty node.\n    do sumValue = nodes[i1++].value; while (!sumValue && i1 < n);\n    minValue = maxValue = sumValue;\n    alpha = Math.max(dy / dx, dx / dy) / (value * ratio);\n    beta = sumValue * sumValue * alpha;\n    minRatio = Math.max(maxValue / beta, beta / minValue);\n\n    // Keep adding nodes while the aspect ratio maintains or improves.\n    for (; i1 < n; ++i1) {\n      sumValue += nodeValue = nodes[i1].value;\n      if (nodeValue < minValue) minValue = nodeValue;\n      if (nodeValue > maxValue) maxValue = nodeValue;\n      beta = sumValue * sumValue * alpha;\n      newRatio = Math.max(maxValue / beta, beta / minValue);\n      if (newRatio > minRatio) { sumValue -= nodeValue; break; }\n      minRatio = newRatio;\n    }\n\n    // Position and record the row orientation.\n    rows.push(row = {value: sumValue, dice: dx < dy, children: nodes.slice(i0, i1)});\n    if (row.dice) treemapDice(row, x0, y0, x1, value ? y0 += dy * sumValue / value : y1);\n    else treemapSlice(row, x0, y0, value ? x0 += dx * sumValue / value : x1, y1);\n    value -= sumValue, i0 = i1;\n  }\n\n  return rows;\n}\n\nexport default (function custom(ratio) {\n\n  function squarify(parent, x0, y0, x1, y1) {\n    squarifyRatio(ratio, parent, x0, y0, x1, y1);\n  }\n\n  squarify.ratio = function(x) {\n    return custom((x = +x) > 1 ? x : 1);\n  };\n\n  return squarify;\n})(phi);\n", "import treemapDice from \"./dice.js\";\nimport treemapSlice from \"./slice.js\";\nimport {phi, squarifyRatio} from \"./squarify.js\";\n\nexport default (function custom(ratio) {\n\n  function resquarify(parent, x0, y0, x1, y1) {\n    if ((rows = parent._squarify) && (rows.ratio === ratio)) {\n      var rows,\n          row,\n          nodes,\n          i,\n          j = -1,\n          n,\n          m = rows.length,\n          value = parent.value;\n\n      while (++j < m) {\n        row = rows[j], nodes = row.children;\n        for (i = row.value = 0, n = nodes.length; i < n; ++i) row.value += nodes[i].value;\n        if (row.dice) treemapDice(row, x0, y0, x1, y0 += (y1 - y0) * row.value / value);\n        else treemapSlice(row, x0, y0, x0 += (x1 - x0) * row.value / value, y1);\n        value -= row.value;\n      }\n    } else {\n      parent._squarify = rows = squarifyRatio(ratio, parent, x0, y0, x1, y1);\n      rows.ratio = ratio;\n    }\n  }\n\n  resquarify.ratio = function(x) {\n    return custom((x = +x) > 1 ? x : 1);\n  };\n\n  return resquarify;\n})(phi);\n", "{\n  \"name\": \"d3-flextree\",\n  \"version\": \"2.1.2\",\n  \"main\": \"build/d3-flextree.js\",\n  \"module\": \"index\",\n  \"jsnext:main\": \"index\",\n  \"author\": {\n    \"name\": \"Chris Maloney\",\n    \"url\": \"http://chrismaloney.org\"\n  },\n  \"description\": \"Flexible tree layout algorithm that allows for variable node sizes.\",\n  \"keywords\": [\n    \"d3\",\n    \"d3-module\",\n    \"layout\",\n    \"tree\",\n    \"hierarchy\",\n    \"d3-hierarchy\",\n    \"plugin\",\n    \"d3-plugin\",\n    \"infovis\",\n    \"visualization\",\n    \"2d\"\n  ],\n  \"homepage\": \"https://github.com/klortho/d3-flextree\",\n  \"license\": \"WTFPL\",\n  \"repository\": {\n    \"type\": \"git\",\n    \"url\": \"https://github.com/klortho/d3-flextree.git\"\n  },\n  \"scripts\": {\n    \"clean\": \"rm -rf build demo test\",\n    \"build:demo\": \"rollup -c --environment BUILD:demo\",\n    \"build:dev\": \"rollup -c --environment BUILD:dev\",\n    \"build:prod\": \"rollup -c --environment BUILD:prod\",\n    \"build:test\": \"rollup -c --environment BUILD:test\",\n    \"build\": \"rollup -c\",\n    \"lint\": \"eslint index.js src\",\n    \"test:main\": \"node test/bundle.js\",\n    \"test:browser\": \"node test/browser-tests.js\",\n    \"test\": \"npm-run-all test:*\",\n    \"prepare\": \"npm-run-all clean build lint test\"\n  },\n  \"dependencies\": {\n    \"d3-hierarchy\": \"^1.1.5\"\n  },\n  \"devDependencies\": {\n    \"babel-plugin-external-helpers\": \"^6.22.0\",\n    \"babel-preset-es2015-rollup\": \"^3.0.0\",\n    \"d3\": \"^4.13.0\",\n    \"d3-selection-multi\": \"^1.0.1\",\n    \"eslint\": \"^4.19.1\",\n    \"jsdom\": \"^11.6.2\",\n    \"npm-run-all\": \"^4.1.2\",\n    \"rollup\": \"^0.55.3\",\n    \"rollup-plugin-babel\": \"^2.7.1\",\n    \"rollup-plugin-commonjs\": \"^8.0.2\",\n    \"rollup-plugin-copy\": \"^0.2.3\",\n    \"rollup-plugin-json\": \"^2.3.0\",\n    \"rollup-plugin-node-resolve\": \"^3.0.2\",\n    \"rollup-plugin-uglify\": \"^3.0.0\",\n    \"uglify-es\": \"^3.3.9\"\n  }\n}\n", "import {hierarchy} from 'd3-hierarchy';\nimport packageInfo from '../package.json';\n\nconst {version} = packageInfo;\nconst defaults = Object.freeze({\n  children: data => data.children,\n  nodeSize: node => node.data.size,\n  spacing: 0,\n});\n\n// Create a layout function with customizable options. Per D3-style, the\n// options can be set at any time using setter methods. The layout function\n// will compute the tree node positions based on the options in effect at the\n// time it is called.\nexport default function flextree(options) {\n  const opts = Object.assign({}, defaults, options);\n  function accessor(name) {\n    const opt = opts[name];\n    return typeof opt === 'function' ? opt : () => opt;\n  }\n\n  function layout(tree) {\n    const wtree = wrap(getWrapper(), tree, node=>node.children);\n    wtree.update();\n    return wtree.data;\n  }\n\n  function getFlexNode() {\n    const nodeSize = accessor('nodeSize');\n    const spacing = accessor('spacing');\n    return class FlexNode extends hierarchy.prototype.constructor {\n      constructor(data) {\n        super(data);\n      }\n      copy() {\n        const c = wrap(this.constructor, this, node=>node.children);\n        c.each(node => node.data = node.data.data);\n        return c;\n      }\n      get size() { return nodeSize(this); }\n      spacing(oNode) { return spacing(this, oNode); }\n      get nodes() { return this.descendants(); }\n      get xSize() { return this.size[0]; }\n      get ySize() { return this.size[1]; }\n      get top() { return this.y; }\n      get bottom() { return this.y + this.ySize; }\n      get left() { return this.x - this.xSize / 2; }\n      get right() { return this.x + this.xSize / 2; }\n      get root() {\n        const ancs = this.ancestors();\n        return ancs[ancs.length - 1];\n      }\n      get numChildren() {\n        return this.hasChildren ? this.children.length : 0;\n      }\n      get hasChildren() { return !this.noChildren; }\n      get noChildren() { return this.children === null; }\n      get firstChild() {\n        return this.hasChildren ? this.children[0] : null;\n      }\n      get lastChild() {\n        return this.hasChildren ? this.children[this.numChildren - 1] : null;\n      }\n      get extents() {\n        return (this.children || []).reduce(\n          (acc, kid) => FlexNode.maxExtents(acc, kid.extents),\n          this.nodeExtents);\n      }\n      get nodeExtents() {\n        return {\n          top: this.top,\n          bottom: this.bottom,\n          left: this.left,\n          right: this.right,\n        };\n      }\n      static maxExtents(e0, e1) {\n        return {\n          top: Math.min(e0.top, e1.top),\n          bottom: Math.max(e0.bottom, e1.bottom),\n          left: Math.min(e0.left, e1.left),\n          right: Math.max(e0.right, e1.right),\n        };\n      }\n    };\n  }\n\n  function getWrapper() {\n    const FlexNode = getFlexNode();\n    const nodeSize = accessor('nodeSize');\n    const spacing = accessor('spacing');\n    return class extends FlexNode {\n      constructor(data) {\n        super(data);\n        Object.assign(this, {\n          x: 0, y: 0,\n          relX: 0, prelim: 0, shift: 0, change: 0,\n          lExt: this, lExtRelX: 0, lThr: null,\n          rExt: this, rExtRelX: 0, rThr: null,\n        });\n      }\n      get size() { return nodeSize(this.data); }\n      spacing(oNode) { return spacing(this.data, oNode.data); }\n      get x() { return this.data.x; }\n      set x(v) { this.data.x = v; }\n      get y() { return this.data.y; }\n      set y(v) { this.data.y = v; }\n      update() {\n        layoutChildren(this);\n        resolveX(this);\n        return this;\n      }\n    };\n  }\n\n  function wrap(FlexClass, treeData, children) {\n    const _wrap = (data, parent) => {\n      const node = new FlexClass(data);\n      Object.assign(node, {\n        parent,\n        depth: parent === null ? 0 : parent.depth + 1,\n        height: 0,\n        length: 1,\n      });\n      const kidsData = children(data) || [];\n      node.children = kidsData.length === 0 ? null\n        : kidsData.map(kd => _wrap(kd, node));\n      if (node.children) {\n        Object.assign(node, node.children.reduce(\n          (hl, kid) => ({\n            height: Math.max(hl.height, kid.height + 1),\n            length: hl.length + kid.length,\n          }), node\n        ));\n      }\n      return node;\n    };\n    return _wrap(treeData, null);\n  }\n\n\n  Object.assign(layout, {\n    nodeSize(arg) {\n      return arguments.length ? (opts.nodeSize = arg, layout) : opts.nodeSize;\n    },\n    spacing(arg) {\n      return arguments.length ? (opts.spacing = arg, layout) : opts.spacing;\n    },\n    children(arg) {\n      return arguments.length ? (opts.children = arg, layout) : opts.children;\n    },\n    hierarchy(treeData, children) {\n      const kids = typeof children === 'undefined' ? opts.children : children;\n      return wrap(getFlexNode(), treeData, kids);\n    },\n    dump(tree) {\n      const nodeSize = accessor('nodeSize');\n      const _dump = i0 => node => {\n        const i1 = i0 + '  ';\n        const i2 = i0 + '    ';\n        const {x, y} = node;\n        const size = nodeSize(node);\n        const kids = (node.children || []);\n        const kdumps = (kids.length === 0) ? ' ' :\n          `,${i1}children: [${i2}${kids.map(_dump(i2)).join(i2)}${i1}],${i0}`;\n        return `{ size: [${size.join(', ')}],${i1}x: ${x}, y: ${y}${kdumps}},`;\n      };\n      return _dump('\\n')(tree);\n    },\n  });\n  return layout;\n}\nflextree.version = version;\n\nconst layoutChildren = (w, y = 0) => {\n  w.y = y;\n  (w.children || []).reduce((acc, kid) => {\n    const [i, lastLows] = acc;\n    layoutChildren(kid, w.y + w.ySize);\n    // The lowest vertical coordinate while extreme nodes still point\n    // in current subtree.\n    const lowY = (i === 0 ? kid.lExt : kid.rExt).bottom;\n    if (i !== 0) separate(w, i, lastLows);\n    const lows = updateLows(lowY, i, lastLows);\n    return [i + 1, lows];\n  }, [0, null]);\n  shiftChange(w);\n  positionRoot(w);\n  return w;\n};\n\n// Resolves the relative coordinate properties - relX and prelim --\n// to set the final, absolute x coordinate for each node. This also sets\n// `prelim` to 0, so that `relX` for each node is its x-coordinate relative\n// to its parent.\nconst resolveX = (w, prevSum, parentX) => {\n  // A call to resolveX without arguments is assumed to be for the root of\n  // the tree. This will set the root's x-coord to zero.\n  if (typeof prevSum === 'undefined') {\n    prevSum = -w.relX - w.prelim;\n    parentX = 0;\n  }\n  const sum = prevSum + w.relX;\n  w.relX = sum + w.prelim - parentX;\n  w.prelim = 0;\n  w.x = parentX + w.relX;\n  (w.children || []).forEach(k => resolveX(k, sum, w.x));\n  return w;\n};\n\n// Process shift and change for all children, to add intermediate spacing to\n// each child's modifier.\nconst shiftChange = w => {\n  (w.children || []).reduce((acc, child) => {\n    const [lastShiftSum, lastChangeSum] = acc;\n    const shiftSum = lastShiftSum + child.shift;\n    const changeSum = lastChangeSum + shiftSum + child.change;\n    child.relX += changeSum;\n    return [shiftSum, changeSum];\n  }, [0, 0]);\n};\n\n// Separates the latest child from its previous sibling\n/* eslint-disable complexity */\nconst separate = (w, i, lows) => {\n  const lSib = w.children[i - 1];\n  const curSubtree = w.children[i];\n  let rContour = lSib;\n  let rSumMods = lSib.relX;\n  let lContour = curSubtree;\n  let lSumMods = curSubtree.relX;\n  let isFirst = true;\n  while (rContour && lContour) {\n    if (rContour.bottom > lows.lowY) lows = lows.next;\n    // How far to the left of the right side of rContour is the left side\n    // of lContour? First compute the center-to-center distance, then add\n    // the \"spacing\"\n    const dist =\n      (rSumMods + rContour.prelim) - (lSumMods + lContour.prelim) +\n      rContour.xSize / 2 + lContour.xSize / 2 +\n      rContour.spacing(lContour);\n    if (dist > 0 || (dist < 0 && isFirst)) {\n      lSumMods += dist;\n      // Move subtree by changing relX.\n      moveSubtree(curSubtree, dist);\n      distributeExtra(w, i, lows.index, dist);\n    }\n    isFirst = false;\n    // Advance highest node(s) and sum(s) of modifiers\n    const rightBottom = rContour.bottom;\n    const leftBottom = lContour.bottom;\n    if (rightBottom <= leftBottom) {\n      rContour = nextRContour(rContour);\n      if (rContour) rSumMods += rContour.relX;\n    }\n    if (rightBottom >= leftBottom) {\n      lContour = nextLContour(lContour);\n      if (lContour) lSumMods += lContour.relX;\n    }\n  }\n  // Set threads and update extreme nodes. In the first case, the\n  // current subtree is taller than the left siblings.\n  if (!rContour && lContour) setLThr(w, i, lContour, lSumMods);\n  // In the next case, the left siblings are taller than the current subtree\n  else if (rContour && !lContour) setRThr(w, i, rContour, rSumMods);\n};\n/* eslint-enable complexity */\n\n// Move subtree by changing relX.\nconst moveSubtree = (subtree, distance) => {\n  subtree.relX += distance;\n  subtree.lExtRelX += distance;\n  subtree.rExtRelX += distance;\n};\n\nconst distributeExtra = (w, curSubtreeI, leftSibI, dist) => {\n  const curSubtree = w.children[curSubtreeI];\n  const n = curSubtreeI - leftSibI;\n  // Are there intermediate children?\n  if (n > 1) {\n    const delta = dist / n;\n    w.children[leftSibI + 1].shift += delta;\n    curSubtree.shift -= delta;\n    curSubtree.change -= dist - delta;\n  }\n};\n\nconst nextLContour = w => {\n  return w.hasChildren ? w.firstChild : w.lThr;\n};\n\nconst nextRContour = w => {\n  return w.hasChildren ? w.lastChild : w.rThr;\n};\n\nconst setLThr = (w, i, lContour, lSumMods) => {\n  const firstChild = w.firstChild;\n  const lExt = firstChild.lExt;\n  const curSubtree = w.children[i];\n  lExt.lThr = lContour;\n  // Change relX so that the sum of modifier after following thread is correct.\n  const diff = lSumMods - lContour.relX - firstChild.lExtRelX;\n  lExt.relX += diff;\n  // Change preliminary x coordinate so that the node does not move.\n  lExt.prelim -= diff;\n  // Update extreme node and its sum of modifiers.\n  firstChild.lExt = curSubtree.lExt;\n  firstChild.lExtRelX = curSubtree.lExtRelX;\n};\n\n// Mirror image of setLThr.\nconst setRThr = (w, i, rContour, rSumMods) => {\n  const curSubtree = w.children[i];\n  const rExt = curSubtree.rExt;\n  const lSib = w.children[i - 1];\n  rExt.rThr = rContour;\n  const diff = rSumMods - rContour.relX - curSubtree.rExtRelX;\n  rExt.relX += diff;\n  rExt.prelim -= diff;\n  curSubtree.rExt = lSib.rExt;\n  curSubtree.rExtRelX = lSib.rExtRelX;\n};\n\n// Position root between children, taking into account their modifiers\nconst positionRoot = w => {\n  if (w.hasChildren) {\n    const k0 = w.firstChild;\n    const kf = w.lastChild;\n    const prelim = (k0.prelim + k0.relX - k0.xSize / 2 +\n      kf.relX + kf.prelim + kf.xSize / 2 ) / 2;\n    Object.assign(w, {\n      prelim,\n      lExt: k0.lExt, lExtRelX: k0.lExtRelX,\n      rExt: kf.rExt, rExtRelX: kf.rExtRelX,\n    });\n  }\n};\n\n// Make/maintain a linked list of the indexes of left siblings and their\n// lowest vertical coordinate.\nconst updateLows = (lowY, index, lastLows) => {\n  // Remove siblings that are hidden by the new subtree.\n  while (lastLows !== null && lowY >= lastLows.lowY)\n    lastLows = lastLows.next;\n  // Prepend the new subtree.\n  return {\n    lowY,\n    index,\n    next: lastLows,\n  };\n};\n", "import { selection, select } from \"d3-selection\";\nimport { max, min, sum, cumsum } from \"d3-array\";\nimport { tree, stratify } from \"d3-hierarchy\";\nimport { zoom, zoomIdentity } from \"d3-zoom\";\nimport { flextree } from 'd3-flextree';\nimport { linkHorizontal } from 'd3-shape';\n\nconst d3 = {\n    selection,\n    select,\n    max,\n    min,\n    sum,\n    cumsum,\n    tree,\n    stratify,\n    zoom,\n    zoomIdentity,\n    linkHorizontal,\n}\nexport class OrgChart {\n    constructor() {\n        // Exposed variables \n        const attrs = {\n            id: `ID${Math.floor(Math.random() * 1000000)}`, // Id for event handlings\n            firstDraw: true,\n            svgWidth: 800,\n            svgHeight: window.innerHeight - 100,\n            scaleExtent:[0.001, 20],\n            container: \"body\",\n            defaultTextFill: \"#2C3E50\",\n            defaultFont: \"Helvetica\",\n            ctx: document.createElement('canvas').getContext('2d'),\n            data: null,\n            duration: 400,\n            setActiveNodeCentered: true,\n            expandLevel: 1,\n            compact: true,\n            rootMargin: 40,\n            nodeDefaultBackground: 'none',\n            connections: [],\n            lastTransform: { x: 0, y: 0, k: 1 },\n            nodeId: d => d.nodeId || d.id,\n            parentNodeId: d => d.parentNodeId || d.parentId,\n            backgroundColor: 'none',\n            zoomBehavior: null,\n            defs: function (state, visibleConnections) {\n                return `<defs>\n                    ${visibleConnections.map(conn => {\n                    const labelWidth = this.getTextWidth(conn.label, { ctx: state.ctx, fontSize: 2, defaultFont: state.defaultFont });\n                    return `\n                       <marker id=\"${conn.from + \"_\" + conn.to}\" refX=\"${conn._source.x < conn._target.x ? -7 : 7}\" refY=\"5\" markerWidth=\"500\"  markerHeight=\"500\"  orient=\"${conn._source.x < conn._target.x ? \"auto\" : \"auto-start-reverse\"}\" >\n                       <rect rx=0.5 width=${conn.label ? labelWidth + 3 : 0} height=3 y=1  fill=\"#152785\"></rect>\n                       <text font-size=\"2px\" x=1 fill=\"white\" y=3>${conn.label || ''}</text>\n                       </marker>\n\n                       <marker id=\"arrow-${conn.from + \"_\" + conn.to}\"  markerWidth=\"500\"  markerHeight=\"500\"  refY=\"2\"  refX=\"1\" orient=\"${conn._source.x < conn._target.x ? \"auto\" : \"auto-start-reverse\"}\" >\n                       <path transform=\"translate(0)\" d='M0,0 V4 L2,2 Z' fill='#152785' />\n                       </marker>\n                    `}).join(\"\")}\n                    </defs>\n                    `},\n            connectionsUpdate: function (d, i, arr) {\n                d3.select(this)\n                    .attr(\"stroke\", d => '#152785')\n                    .attr('stroke-linecap', 'round')\n                    .attr(\"stroke-width\", d => '5')\n                    .attr('pointer-events', 'none')\n                    .attr(\"marker-start\", d => `url(#${d.from + \"_\" + d.to})`)\n                    .attr(\"marker-end\", d => `url(#arrow-${d.from + \"_\" + d.to})`)\n            },\n            linkUpdate: function (d, i, arr) {\n                d3.select(this)\n                    .attr(\"stroke\", d => d.data._upToTheRootHighlighted ? '#152785' : 'lightgray')\n                    .attr(\"stroke-width\", d => d.data._upToTheRootHighlighted ? 5 : 2)\n\n                if (d.data._upToTheRootHighlighted) {\n                    d3.select(this).raise()\n                }\n            },\n            nodeUpdate: function (d, i, arr) {\n                d3.select(this)\n                    .select('.node-rect')\n                    .attr(\"stroke\", d => d.data._highlighted || d.data._upToTheRootHighlighted ? '#152785' : 'none')\n                    .attr(\"stroke-width\", d.data._highlighted || d.data._upToTheRootHighlighted ? 10 : 1)\n            },\n\n            nodeWidth: d3Node => 250,\n            nodeHeight: d => 150,\n            siblingsMargin: d3Node => 20,\n            childrenMargin: d => 60,\n            neightbourMargin: (n1, n2) => 80,\n            compactMarginPair: d => 100,\n            compactMarginBetween: (d3Node => 20),\n            onNodeClick: (d) => d,\n            linkGroupArc: d3.linkHorizontal().x(d => d.x).y(d => d.y),\n            // ({ source, target }) => {\n            //     return \n            //     return `M ${source.x} , ${source.y} Q ${(source.x + target.x) / 2 + 100},${source.y-100}  ${target.x}, ${target.y}`;\n            // },\n            nodeContent: d => `<div style=\"padding:5px;font-size:10px;\">Sample Node(id=${d.id}), override using <br/> <br/> \n            <code>chart<br/>\n            &nbsp;.nodeContent({data}=>{ <br/>\n             &nbsp;&nbsp;&nbsp;&nbsp;return '' // Custom HTML <br/>\n             &nbsp;})</code>\n             <br/> <br/>\n             Or check different <a href=\"https://github.com/bumbeishvili/org-chart#jump-to-examples\" target=\"_blank\">layout examples</a>\n             \n             </div>`,\n            layout: \"top\",// top, left,right, bottom\n            buttonContent: ({ node, state }) => {\n                const icons = {\n                    \"left\": d => d ? `<div style=\"margin-top:-10px;line-height:1.2;font-size:25px;height:22px\">‹</div>` : `<div style=\"margin-top:-10px;font-size:25px;height:23px\">›</div>`,\n                    \"bottom\": d => d ? `<div style=\"margin-top:-20px;font-size:25px\">ˬ</div>` : `<div style=\"margin-top:0px;line-height:1.2;height:11px;font-size:25px\">ˆ</div>`,\n                    \"right\": d => d ? `<div style=\"margin-top:-10px;font-size:25px;height:23px\">›</div>` : `<div style=\"margin-top:-10px;line-height:1.2;font-size:25px;height:22px\">‹</div>`,\n                    \"top\": d => d ? `<div style=\"margin-top:0px;line-height:1.2;height:11px;font-size:25px\">ˆ</div>` : `<div style=\"margin-top:-20px;font-size:25px\">ˬ</div>`,\n                }\n                return `<div style=\"border-radius:3px;padding:3px;font-size:10px;margin:auto auto;background-color:lightgray\"> ${icons[state.layout](node.children)}  </div>`\n            },\n            layoutBindings: {\n                \"left\": {\n                    \"nodeLeftX\": node => 0,\n                    \"nodeRightX\": node => node.width,\n                    \"nodeTopY\": node => - node.height / 2,\n                    \"nodeBottomY\": node => node.height / 2,\n                    \"nodeJoinX\": node => node.x + node.width,\n                    \"nodeJoinY\": node => node.y - node.height / 2,\n                    \"linkJoinX\": node => node.x + node.width,\n                    \"linkJoinY\": node => node.y,\n                    \"linkX\": node => node.x,\n                    \"linkY\": node => node.y,\n                    \"linkCompactXStart\": node => node.x + node.width / 2,//node.x + (node.compactEven ? node.width / 2 : -node.width / 2),\n                    \"linkCompactYStart\": node => node.y + (node.compactEven ? node.height / 2 : -node.height / 2),\n                    \"compactLinkMidX\": (node, state) => node.firstCompactNode.x,// node.firstCompactNode.x + node.firstCompactNode.flexCompactDim[0] / 4 + state.compactMarginPair(node) / 4,\n                    \"compactLinkMidY\": (node, state) => node.firstCompactNode.y + node.firstCompactNode.flexCompactDim[0] / 4 + state.compactMarginPair(node) / 4,\n                    \"linkParentX\": node => node.parent.x + node.parent.width,\n                    \"linkParentY\": node => node.parent.y,\n                    \"buttonX\": node => node.width,\n                    \"buttonY\": node => node.height / 2,\n                    \"centerTransform\": ({ root, rootMargin, centerY, scale, centerX }) => `translate(${rootMargin},${centerY}) scale(${scale})`,\n                    \"compactDimension\": {\n                        sizeColumn: node => node.height,\n                        sizeRow: node => node.width,\n                        reverse: arr => arr.slice().reverse()\n                    },\n                    \"nodeFlexSize\": ({ height, width, siblingsMargin, childrenMargin, state, node }) => {\n                        if (state.compact && node.flexCompactDim) {\n                            const result = [node.flexCompactDim[0], node.flexCompactDim[1]]\n                            return result;\n                        };\n                        return [height + siblingsMargin, width + childrenMargin]\n                    },\n                    \"zoomTransform\": ({ centerY, scale }) => `translate(${0},${centerY}) scale(${scale})`,\n                    \"diagonal\": this.hdiagonal.bind(this),\n                    \"swap\": d => { const x = d.x; d.x = d.y; d.y = x; },\n                    \"nodeUpdateTransform\": ({ x, y, width, height }) => `translate(${x},${y - height / 2})`,\n                },\n                \"top\": {\n                    \"nodeLeftX\": node => -node.width / 2,\n                    \"nodeRightX\": node => node.width / 2,\n                    \"nodeTopY\": node => 0,\n                    \"nodeBottomY\": node => node.height,\n                    \"nodeJoinX\": node => node.x - node.width / 2,\n                    \"nodeJoinY\": node => node.y + node.height,\n                    \"linkJoinX\": node => node.x,\n                    \"linkJoinY\": node => node.y + node.height,\n                    \"linkCompactXStart\": node => node.x + (node.compactEven ? node.width / 2 : -node.width / 2),\n                    \"linkCompactYStart\": node => node.y + node.height / 2,\n                    \"compactLinkMidX\": (node, state) => node.firstCompactNode.x + node.firstCompactNode.flexCompactDim[0] / 4 + state.compactMarginPair(node) / 4,\n                    \"compactLinkMidY\": node => node.firstCompactNode.y,\n                    \"compactDimension\": {\n                        sizeColumn: node => node.width,\n                        sizeRow: node => node.height,\n                        reverse: arr => arr,\n                    },\n                    \"linkX\": node => node.x,\n                    \"linkY\": node => node.y,\n                    \"linkParentX\": node => node.parent.x,\n                    \"linkParentY\": node => node.parent.y + node.parent.height,\n                    \"buttonX\": node => node.width / 2,\n                    \"buttonY\": node => node.height,\n                    \"centerTransform\": ({ root, rootMargin, centerY, scale, centerX }) => `translate(${centerX},${rootMargin}) scale(${scale})`,\n                    \"nodeFlexSize\": ({ height, width, siblingsMargin, childrenMargin, state, node, compactViewIndex }) => {\n                        if (state.compact && node.flexCompactDim) {\n                            const result = [node.flexCompactDim[0], node.flexCompactDim[1]]\n                            return result;\n                        };\n                        return [width + siblingsMargin, height + childrenMargin];\n                    },\n                    \"zoomTransform\": ({ centerX, scale }) => `translate(${centerX},0}) scale(${scale})`,\n                    \"diagonal\": this.diagonal.bind(this),\n                    \"swap\": d => { },\n                    \"nodeUpdateTransform\": ({ x, y, width, height }) => `translate(${x - width / 2},${y})`,\n\n                },\n                \"bottom\": {\n                    \"nodeLeftX\": node => -node.width / 2,\n                    \"nodeRightX\": node => node.width / 2,\n                    \"nodeTopY\": node => -node.height,\n                    \"nodeBottomY\": node => 0,\n                    \"nodeJoinX\": node => node.x - node.width / 2,\n                    \"nodeJoinY\": node => node.y - node.height - node.height,\n                    \"linkJoinX\": node => node.x,\n                    \"linkJoinY\": node => node.y - node.height,\n                    \"linkCompactXStart\": node => node.x + (node.compactEven ? node.width / 2 : -node.width / 2),\n                    \"linkCompactYStart\": node => node.y - node.height / 2,\n                    \"compactLinkMidX\": (node, state) => node.firstCompactNode.x + node.firstCompactNode.flexCompactDim[0] / 4 + state.compactMarginPair(node) / 4,\n                    \"compactLinkMidY\": node => node.firstCompactNode.y,\n                    \"linkX\": node => node.x,\n                    \"linkY\": node => node.y,\n                    \"compactDimension\": {\n                        sizeColumn: node => node.width,\n                        sizeRow: node => node.height,\n                        reverse: arr => arr,\n                    },\n                    \"linkParentX\": node => node.parent.x,\n                    \"linkParentY\": node => node.parent.y - node.parent.height,\n                    \"buttonX\": node => node.width / 2,\n                    \"buttonY\": node => 0,\n                    \"centerTransform\": ({ root, rootMargin, centerY, scale, centerX, chartHeight }) => `translate(${centerX},${chartHeight - rootMargin}) scale(${scale})`,\n                    \"nodeFlexSize\": ({ height, width, siblingsMargin, childrenMargin, state, node }) => {\n                        if (state.compact && node.flexCompactDim) {\n                            const result = [node.flexCompactDim[0], node.flexCompactDim[1]]\n                            return result;\n                        };\n                        return [width + siblingsMargin, height + childrenMargin]\n                    },\n                    \"zoomTransform\": ({ centerX, scale }) => `translate(${centerX},0}) scale(${scale})`,\n                    \"diagonal\": this.diagonal.bind(this),\n                    \"swap\": d => { d.y = -d.y; },\n                    \"nodeUpdateTransform\": ({ x, y, width, height }) => `translate(${x - width / 2},${y - height})`,\n                },\n                \"right\": {\n                    \"nodeLeftX\": node => -node.width,\n                    \"nodeRightX\": node => 0,\n                    \"nodeTopY\": node => - node.height / 2,\n                    \"nodeBottomY\": node => node.height / 2,\n                    \"nodeJoinX\": node => node.x - node.width - node.width,\n                    \"nodeJoinY\": node => node.y - node.height / 2,\n                    \"linkJoinX\": node => node.x - node.width,\n                    \"linkJoinY\": node => node.y,\n                    \"linkX\": node => node.x,\n                    \"linkY\": node => node.y,\n                    \"linkParentX\": node => node.parent.x - node.parent.width,\n                    \"linkParentY\": node => node.parent.y,\n                    \"buttonX\": node => 0,\n                    \"buttonY\": node => node.height / 2,\n                    \"linkCompactXStart\": node => node.x - node.width / 2,//node.x + (node.compactEven ? node.width / 2 : -node.width / 2),\n                    \"linkCompactYStart\": node => node.y + (node.compactEven ? node.height / 2 : -node.height / 2),\n                    \"compactLinkMidX\": (node, state) => node.firstCompactNode.x,// node.firstCompactNode.x + node.firstCompactNode.flexCompactDim[0] / 4 + state.compactMarginPair(node) / 4,\n                    \"compactLinkMidY\": (node, state) => node.firstCompactNode.y + node.firstCompactNode.flexCompactDim[0] / 4 + state.compactMarginPair(node) / 4,\n                    \"centerTransform\": ({ root, rootMargin, centerY, scale, centerX, chartWidth }) => `translate(${chartWidth - rootMargin},${centerY}) scale(${scale})`,\n                    \"nodeFlexSize\": ({ height, width, siblingsMargin, childrenMargin, state, node }) => {\n                        if (state.compact && node.flexCompactDim) {\n                            const result = [node.flexCompactDim[0], node.flexCompactDim[1]]\n                            return result;\n                        };\n                        return [height + siblingsMargin, width + childrenMargin]\n                    },\n                    \"compactDimension\": {\n                        sizeColumn: node => node.height,\n                        sizeRow: node => node.width,\n                        reverse: arr => arr.slice().reverse()\n                    },\n                    \"zoomTransform\": ({ centerY, scale }) => `translate(${0},${centerY}) scale(${scale})`,\n                    \"diagonal\": this.hdiagonal.bind(this),\n                    \"swap\": d => { const x = d.x; d.x = -d.y; d.y = x; },\n                    \"nodeUpdateTransform\": ({ x, y, width, height }) => `translate(${x - width},${y - height / 2})`,\n                },\n            }\n        };\n\n        this.getChartState = () => attrs;\n\n        // Dynamically set getter and setter functions for Chart class\n        Object.keys(attrs).forEach((key) => {\n            //@ts-ignore\n            this[key] = function (_) {\n                if (!arguments.length) {\n                    return attrs[key];\n                } else {\n                    attrs[key] = _;\n                }\n                return this;\n            };\n        });\n\n        this.initializeEnterExitUpdatePattern();\n    }\n\n    initializeEnterExitUpdatePattern() {\n        d3.selection.prototype.patternify = function (params) {\n            var container = this;\n            var selector = params.selector;\n            var elementTag = params.tag;\n            var data = params.data || [selector];\n\n            // Pattern in action\n            var selection = container.selectAll(\".\" + selector).data(data, (d, i) => {\n                if (typeof d === \"object\") {\n                    if (d.id) { return d.id; }\n                }\n                return i;\n            });\n            selection.exit().remove();\n            selection = selection.enter().append(elementTag).merge(selection);\n            selection.attr(\"class\", selector);\n            return selection;\n        };\n    }\n\n    // This method retrieves passed node's children IDs (including node)\n    getNodeChildren({ data, children, _children }, nodeStore) {\n        // Store current node ID\n        nodeStore.push(data);\n\n        // Loop over children and recursively store descendants id (expanded nodes)\n        if (children) {\n            children.forEach((d) => {\n                this.getNodeChildren(d, nodeStore);\n            });\n        }\n\n        // Loop over _children and recursively store descendants id (collapsed nodes)\n        if (_children) {\n            _children.forEach((d) => {\n                this.getNodeChildren(d, nodeStore);\n            });\n        }\n\n        // Return result\n        return nodeStore;\n    }\n\n    // This method can be invoked via chart.setZoomFactor API, it zooms to particulat scale\n    initialZoom(zoomLevel) {\n        const attrs = this.getChartState();\n        attrs.lastTransform.k = zoomLevel;\n        return this;\n    }\n\n    render() {\n        //InnerFunctions which will update visuals\n        const attrs = this.getChartState();\n        if (!attrs.data || attrs.data.length == 0) {\n            console.log('ORG CHART - Data is empty')\n            return this;\n        }\n\n        //Drawing containers\n        const container = d3.select(attrs.container);\n        const containerRect = container.node().getBoundingClientRect();\n        if (containerRect.width > 0) attrs.svgWidth = containerRect.width;\n\n        //Calculated properties\n        const calc = {\n            id: `ID${Math.floor(Math.random() * 1000000)}`, // id for event handlings,\n            chartWidth: attrs.svgWidth,\n            chartHeight: attrs.svgHeight\n        };\n        attrs.calc = calc;\n\n        // Calculate max node depth (it's needed for layout heights calculation)\n        calc.centerX = calc.chartWidth / 2;\n        calc.centerY = calc.chartHeight / 2;\n\n        // ******************* BEHAVIORS  **********************\n        if (attrs.firstDraw) {\n            const behaviors = {\n                zoom: null\n            };\n\n            // Get zooming function\n            behaviors.zoom = d3.zoom().on(\"zoom\", (event, d) => this.zoomed(event, d)).scaleExtent(attrs.scaleExtent)\n            attrs.zoomBehavior = behaviors.zoom;\n        }\n\n        //****************** ROOT node work ************************\n\n        attrs.flexTreeLayout = flextree({\n            nodeSize: node => {\n                const width = attrs.nodeWidth(node);;\n                const height = attrs.nodeHeight(node);\n                const siblingsMargin = attrs.siblingsMargin(node)\n                const childrenMargin = attrs.childrenMargin(node);\n                return attrs.layoutBindings[attrs.layout].nodeFlexSize({\n                    state: attrs,\n                    node: node,\n                    width,\n                    height,\n                    siblingsMargin,\n                    childrenMargin\n                });\n            }\n        })\n            .spacing((nodeA, nodeB) => nodeA.parent == nodeB.parent ? 0 : attrs.neightbourMargin(nodeA, nodeB));\n\n        this.setLayouts({ expandNodesFirst: false });\n\n        // *************************  DRAWING **************************\n        //Add svg\n        const svg = container\n            .patternify({\n                tag: \"svg\",\n                selector: \"svg-chart-container\"\n            })\n            .style('background-color', attrs.backgroundColor)\n            .attr(\"width\", attrs.svgWidth)\n            .attr(\"height\", attrs.svgHeight)\n            .attr(\"font-family\", attrs.defaultFont)\n\n        if (attrs.firstDraw) {\n            svg.call(attrs.zoomBehavior)\n                .on(\"dblclick.zoom\", null)\n                .attr(\"cursor\", \"move\")\n        }\n\n        attrs.svg = svg;\n\n        //Add container g element\n        const chart = svg\n            .patternify({\n                tag: \"g\",\n                selector: \"chart\"\n            })\n\n        // Add one more container g element, for better positioning controls\n        attrs.centerG = chart\n            .patternify({\n                tag: \"g\",\n                selector: \"center-group\"\n            })\n\n        attrs.linksWrapper = attrs.centerG.patternify({\n            tag: \"g\",\n            selector: \"links-wrapper\"\n        })\n\n        attrs.nodesWrapper = attrs.centerG.patternify({\n            tag: \"g\",\n            selector: \"nodes-wrapper\"\n        })\n\n        attrs.connectionsWrapper = attrs.centerG.patternify({\n            tag: \"g\",\n            selector: \"connections-wrapper\"\n        })\n\n        attrs.defsWrapper = svg.patternify({\n            tag: \"g\",\n            selector: \"defs-wrapper\"\n        })\n\n        if (attrs.firstDraw) {\n            attrs.centerG.attr(\"transform\", () => {\n                return attrs.layoutBindings[attrs.layout].centerTransform({\n                    centerX: calc.centerX,\n                    centerY: calc.centerY,\n                    scale: attrs.lastTransform.k,\n                    rootMargin: attrs.rootMargin,\n                    root: attrs.root,\n                    chartHeight: calc.chartHeight,\n                    chartWidth: calc.chartWidth\n                })\n            });\n        }\n\n        attrs.chart = chart;\n\n        // Display tree contenrs\n        this.update(attrs.root);\n\n\n        //#########################################  UTIL FUNCS ##################################\n        // This function restyles foreign object elements ()\n\n        d3.select(window).on(`resize.${attrs.id}`, () => {\n            const containerRect = d3.select(attrs.container).node().getBoundingClientRect();\n            attrs.svg.attr('width', containerRect.width)\n        });\n\n        if (attrs.firstDraw) {\n            attrs.firstDraw = false;\n        }\n\n        return this;\n    }\n\n    // This function can be invoked via chart.addNode API, and it adds node in tree at runtime\n    addNode(obj) {\n        const attrs = this.getChartState();\n        const nodeFound = attrs.allNodes.filter(({ data }) => attrs.nodeId(data) === attrs.nodeId(obj))[0];\n        const parentFound = attrs.allNodes.filter(({ data }) => attrs.nodeId(data) === attrs.parentNodeId(obj))[0];\n        if (nodeFound) {\n            console.log(`ORG CHART - ADD - Node with id \"${attrs.nodeId(obj)}\" already exists in tree`)\n            return this;\n        }\n        if (!parentFound) {\n            console.log(`ORG CHART - ADD - Parent node with id \"${attrs.parentNodeId(obj)}\" not found in the tree`)\n            return this;\n        }\n        if (obj._centered && !obj._expanded) obj._expanded = true;\n        attrs.data.push(obj);\n\n        // Update state of nodes and redraw graph\n        this.updateNodesState();\n\n        return this;\n    }\n\n    // This function can be invoked via chart.removeNode API, and it removes node from tree at runtime\n    removeNode(nodeId) {\n        const attrs = this.getChartState();\n        const node = attrs.allNodes.filter(({ data }) => attrs.nodeId(data) == nodeId)[0];\n        if (!node) {\n            console.log(`ORG CHART - REMOVE - Node with id \"${nodeId}\" not found in the tree`);\n            return this;\n        }\n\n        // Remove all node childs\n        // Retrieve all children nodes ids (including current node itself)\n        node.descendants()\n            .forEach(d => d.data._filteredOut = true)\n\n        const descendants = this.getNodeChildren(node, [], attrs.nodeId);\n        descendants.forEach(d => d._filtered = true)\n\n        // Filter out retrieved nodes and reassign data\n        attrs.data = attrs.data.filter(d => !d._filtered);\n\n        const updateNodesState = this.updateNodesState.bind(this);\n        // Update state of nodes and redraw graph\n        updateNodesState();\n\n        return this;\n    }\n\n    groupBy(array, accessor, aggegator) {\n        const grouped = {}\n        array.forEach(item => {\n            const key = accessor(item)\n            if (!grouped[key]) {\n                grouped[key] = []\n            }\n            grouped[key].push(item)\n        })\n\n        Object.keys(grouped).forEach(key => {\n            grouped[key] = aggegator(grouped[key])\n        })\n        return Object.entries(grouped);\n    }\n    calculateCompactFlexDimensions(root) {\n        const attrs = this.getChartState();\n        root.eachBefore(node => {\n            node.firstCompact = null;\n            node.compactEven = null;\n            node.flexCompactDim = null;\n            node.firstCompactNode = null;\n        })\n        root.eachBefore(node => {\n            if (node.children && node.children.length > 1) {\n                const compactChildren = node.children.filter(d => !d.children);\n                if (compactChildren.length < 2) return;\n                compactChildren.forEach((child, i) => {\n                    if (!i) child.firstCompact = true;\n                    if (i % 2) child.compactEven = false;\n                    else child.compactEven = true;\n                    child.row = Math.floor(i / 2);\n                })\n                const evenMaxColumnDimension = d3.max(compactChildren.filter(d => d.compactEven), attrs.layoutBindings[attrs.layout].compactDimension.sizeColumn);\n                const oddMaxColumnDimension = d3.max(compactChildren.filter(d => !d.compactEven), attrs.layoutBindings[attrs.layout].compactDimension.sizeColumn);\n                const columnSize = Math.max(evenMaxColumnDimension, oddMaxColumnDimension) * 2;\n                const rowsMapNew = this.groupBy(compactChildren, d => d.row, reducedGroup => d3.max(reducedGroup, d => attrs.layoutBindings[attrs.layout].compactDimension.sizeRow(d) + attrs.compactMarginBetween(d)));\n                const rowSize = d3.sum(rowsMapNew.map(v => v[1]))\n                compactChildren.forEach(node => {\n                    node.firstCompactNode = compactChildren[0];\n                    if (node.firstCompact) {\n                        node.flexCompactDim = [\n                            columnSize + attrs.compactMarginPair(node),\n                            rowSize - attrs.compactMarginBetween(node)\n                        ];\n                    } else {\n                        node.flexCompactDim = [0, 0];\n                    }\n                })\n                node.flexCompactDim = null;\n            }\n        })\n    }\n\n    calculateCompactFlexPositions(root) {\n        const attrs = this.getChartState();\n        root.eachBefore(node => {\n            if (node.children) {\n                const compactChildren = node.children.filter(d => d.flexCompactDim);\n                const fch = compactChildren[0];\n                if (!fch) return;\n                compactChildren.forEach((child, i, arr) => {\n                    if (i == 0) fch.x -= fch.flexCompactDim[0] / 2;\n                    if (i & i % 2 - 1) child.x = fch.x + fch.flexCompactDim[0] * 0.25 - attrs.compactMarginPair(child) / 4;\n                    else if (i) child.x = fch.x + fch.flexCompactDim[0] * 0.75 + attrs.compactMarginPair(child) / 4;\n                })\n                const centerX = fch.x + fch.flexCompactDim[0] * 0.5;\n                fch.x = fch.x + fch.flexCompactDim[0] * 0.25 - attrs.compactMarginPair(fch) / 4;\n                const offsetX = node.x - centerX;\n                if (Math.abs(offsetX) < 10) {\n                    compactChildren.forEach(d => d.x += offsetX);\n                }\n\n                const rowsMapNew = this.groupBy(compactChildren, d => d.row, reducedGroup => d3.max(reducedGroup, d => attrs.layoutBindings[attrs.layout].compactDimension.sizeRow(d)));\n                const cumSum = d3.cumsum(rowsMapNew.map(d => d[1] + attrs.compactMarginBetween(d)));\n                compactChildren\n                    .forEach((node, i) => {\n                        if (node.row) {\n                            node.y = fch.y + cumSum[node.row - 1]\n                        } else {\n                            node.y = fch.y;\n                        }\n                    })\n\n            }\n        })\n    }\n\n    // This function basically redraws visible graph, based on nodes state\n    update({ x0, y0, x = 0, y = 0, width, height }) {\n        const attrs = this.getChartState();\n        const calc = attrs.calc;\n\n\n        if (attrs.compact) {\n            this.calculateCompactFlexDimensions(attrs.root);\n        }\n\n        //  Assigns the x and y position for the nodes\n        const treeData = attrs.flexTreeLayout(attrs.root);\n\n        // Reassigns the x and y position for the based on the compact layout\n        if (attrs.compact) {\n            this.calculateCompactFlexPositions(attrs.root);\n        }\n\n        const nodes = treeData.descendants();\n\n        // console.table(nodes.map(d => ({ x: d.x, y: d.y, width: d.width, height: d.height, flexCompactDim: d.flexCompactDim + \"\" })))\n\n        // Get all links\n        const links = treeData.descendants().slice(1);\n        nodes.forEach(attrs.layoutBindings[attrs.layout].swap)\n\n        // Connections\n        const connections = attrs.connections;\n        const allNodesMap = {};\n        attrs.allNodes.forEach(d => allNodesMap[attrs.nodeId(d.data)] = d);\n\n        const visibleNodesMap = {}\n        nodes.forEach(d => visibleNodesMap[attrs.nodeId(d.data)] = d);\n\n        connections.forEach(connection => {\n            const source = allNodesMap[connection.from];\n            const target = allNodesMap[connection.to];\n            connection._source = source;\n            connection._target = target;\n        })\n        const visibleConnections = connections.filter(d => visibleNodesMap[d.from] && visibleNodesMap[d.to]);\n        const defsString = attrs.defs.bind(this)(attrs, visibleConnections);\n        const existingString = attrs.defsWrapper.html();\n        if (defsString !== existingString) {\n            attrs.defsWrapper.html(defsString)\n        }\n\n        // --------------------------  LINKS ----------------------\n        // Get links selection\n        const linkSelection = attrs.linksWrapper\n            .selectAll(\"path.link\")\n            .data(links, (d) => attrs.nodeId(d.data));\n\n        // Enter any new links at the parent's previous position.\n        const linkEnter = linkSelection\n            .enter()\n            .insert(\"path\", \"g\")\n            .attr(\"class\", \"link\")\n            .attr(\"d\", (d) => {\n                const xo = attrs.layoutBindings[attrs.layout].linkJoinX({ x: x0, y: y0, width, height });\n                const yo = attrs.layoutBindings[attrs.layout].linkJoinY({ x: x0, y: y0, width, height });\n                const o = { x: xo, y: yo };\n                return attrs.layoutBindings[attrs.layout].diagonal(o, o, o);\n            });\n\n        // Get links update selection\n        const linkUpdate = linkEnter.merge(linkSelection);\n\n        // Styling links\n        linkUpdate\n            .attr(\"fill\", \"none\")\n\n        // Allow external modifications\n        linkUpdate.each(attrs.linkUpdate);\n\n        // Transition back to the parent element position\n        linkUpdate\n            .transition()\n            .duration(attrs.duration)\n            .attr(\"d\", (d) => {\n                const n = attrs.compact && d.flexCompactDim ?\n                    {\n                        x: attrs.layoutBindings[attrs.layout].compactLinkMidX(d, attrs),\n                        y: attrs.layoutBindings[attrs.layout].compactLinkMidY(d, attrs)\n                    } :\n                    {\n                        x: attrs.layoutBindings[attrs.layout].linkX(d),\n                        y: attrs.layoutBindings[attrs.layout].linkY(d)\n                    };\n\n                const p = {\n                    x: attrs.layoutBindings[attrs.layout].linkParentX(d),\n                    y: attrs.layoutBindings[attrs.layout].linkParentY(d),\n                };\n\n                const m = attrs.compact && d.flexCompactDim ? {\n                    x: attrs.layoutBindings[attrs.layout].linkCompactXStart(d),\n                    y: attrs.layoutBindings[attrs.layout].linkCompactYStart(d),\n                } : n;\n                return attrs.layoutBindings[attrs.layout].diagonal(n, p, m);\n            });\n\n        // Remove any  links which is exiting after animation\n        const linkExit = linkSelection\n            .exit()\n            .transition()\n            .duration(attrs.duration)\n            .attr(\"d\", (d) => {\n                const xo = attrs.layoutBindings[attrs.layout].linkJoinX({ x, y, width, height });\n                const yo = attrs.layoutBindings[attrs.layout].linkJoinY({ x, y, width, height });\n                const o = { x: xo, y: yo };\n                return attrs.layoutBindings[attrs.layout].diagonal(o, o);\n            })\n            .remove();\n\n\n        // --------------------------  CONNECTIONS ----------------------\n\n        const connectionsSel = attrs.connectionsWrapper\n            .selectAll(\"path.connection\")\n            .data(visibleConnections)\n\n        // Enter any new connections at the parent's previous position.\n        const connEnter = connectionsSel\n            .enter()\n            .insert(\"path\", \"g\")\n            .attr(\"class\", \"connection\")\n            .attr(\"d\", (d) => {\n                const xo = attrs.layoutBindings[attrs.layout].linkJoinX({ x: x0, y: y0, width, height });\n                const yo = attrs.layoutBindings[attrs.layout].linkJoinY({ x: x0, y: y0, width, height });\n                const o = { x: xo, y: yo };\n                return attrs.layoutBindings[attrs.layout].diagonal(o, o);\n            });\n\n\n        // Get connections update selection\n        const connUpdate = connEnter.merge(connectionsSel);\n\n        // Styling connections\n        connUpdate.attr(\"fill\", \"none\")\n\n        // Transition back to the parent element position\n        connUpdate\n            .transition()\n            .duration(attrs.duration)\n            .attr('d', (d) => {\n                const xs = attrs.layoutBindings[attrs.layout].linkX({ x: d._source.x, y: d._source.y, width: d._source.width, height: d._source.height });\n                const ys = attrs.layoutBindings[attrs.layout].linkY({ x: d._source.x, y: d._source.y, width: d._source.width, height: d._source.height });\n                const xt = attrs.layoutBindings[attrs.layout].linkJoinX({ x: d._target.x, y: d._target.y, width: d._target.width, height: d._target.height });\n                const yt = attrs.layoutBindings[attrs.layout].linkJoinY({ x: d._target.x, y: d._target.y, width: d._target.width, height: d._target.height });\n                return attrs.linkGroupArc({ source: { x: xs, y: ys }, target: { x: xt, y: yt } })\n            })\n\n        // Allow external modifications\n        connUpdate.each(attrs.connectionsUpdate);\n\n        // Remove any  links which is exiting after animation\n        const connExit = connectionsSel\n            .exit()\n            .transition()\n            .duration(attrs.duration)\n            .attr('opacity', 0)\n            .remove();\n\n        // --------------------------  NODES ----------------------\n        // Get nodes selection\n        const nodesSelection = attrs.nodesWrapper\n            .selectAll(\"g.node\")\n            .data(nodes, ({ data }) => attrs.nodeId(data));\n\n        // Enter any new nodes at the parent's previous position.\n        const nodeEnter = nodesSelection\n            .enter()\n            .append(\"g\")\n            .attr(\"class\", \"node\")\n            .attr(\"transform\", (d) => {\n                if (d == attrs.root) return `translate(${x0},${y0})`\n                const xj = attrs.layoutBindings[attrs.layout].nodeJoinX({ x: x0, y: y0, width, height });\n                const yj = attrs.layoutBindings[attrs.layout].nodeJoinY({ x: x0, y: y0, width, height });\n                return `translate(${xj},${yj})`\n            })\n            .attr(\"cursor\", \"pointer\")\n            .on(\"click\", (event, { data }) => {\n                if ([...event.srcElement.classList].includes(\"node-button-foreign-object\")) {\n                    return;\n                }\n                attrs.onNodeClick(attrs.nodeId(data));\n            });\n\n        // Add background rectangle for the nodes\n        nodeEnter\n            .patternify({\n                tag: \"rect\",\n                selector: \"node-rect\",\n                data: (d) => [d]\n            })\n\n        // Node update styles\n        const nodeUpdate = nodeEnter\n            .merge(nodesSelection)\n            .style(\"font\", \"12px sans-serif\");\n\n        // Add foreignObject element inside rectangle\n        const fo = nodeUpdate.patternify({\n            tag: \"foreignObject\",\n            selector: \"node-foreign-object\",\n            data: (d) => [d]\n        })\n            .style('overflow', 'visible')\n\n        // Add foreign object\n        fo.patternify({\n            tag: \"xhtml:div\",\n            selector: \"node-foreign-object-div\",\n            data: (d) => [d]\n        })\n\n        this.restyleForeignObjectElements();\n\n        // Add Node button circle's group (expand-collapse button)\n        const nodeButtonGroups = nodeEnter\n            .patternify({\n                tag: \"g\",\n                selector: \"node-button-g\",\n                data: (d) => [d]\n            })\n            .on(\"click\", (event, d) => this.onButtonClick(event, d))\n            .on(\"keydown\", (event, d) => {\n                if (event.key === 'Enter' || event.key === ' ' || event.key === 'Spacebar') {\n                    this.onButtonClick(event, d)\n                }\n            });\n\n        nodeButtonGroups.patternify({\n            tag: 'rect',\n            selector: 'node-button-rect',\n            data: (d) => [d]\n        })\n            .attr('opacity', 0)\n            .attr('pointer-events', 'all')\n            .attr('width', 40)\n            .attr('height', 40)\n            .attr('x', -20)\n            .attr('y', -20)\n\n        // Add expand collapse button content\n        const nodeFo = nodeButtonGroups\n            .patternify({\n                tag: \"foreignObject\",\n                selector: \"node-button-foreign-object\",\n                data: (d) => [d]\n            })\n            .attr('width', 40)\n            .attr('height', 40)\n            .attr('x', -20)\n            .attr('y', -20)\n            .style('overflow', 'visible')\n            .patternify({\n                tag: \"xhtml:div\",\n                selector: \"node-button-div\",\n                data: (d) => [d]\n            })\n            .style('pointer-events', 'none')\n            .style('display', 'flex')\n            .style('width', '100%')\n            .style('height', '100%')\n\n\n\n        // Transition to the proper position for the node\n        nodeUpdate\n            .transition()\n            .attr(\"opacity\", 0)\n            .duration(attrs.duration)\n            .attr(\"transform\", ({ x, y, width, height }) => {\n                return attrs.layoutBindings[attrs.layout].nodeUpdateTransform({ x, y, width, height });\n\n            })\n            .attr(\"opacity\", 1);\n\n        // Style node rectangles\n        nodeUpdate\n            .select(\".node-rect\")\n            .attr(\"width\", ({ width }) => width)\n            .attr(\"height\", ({ height }) => height)\n            .attr(\"x\", ({ width }) => 0)\n            .attr(\"y\", ({ height }) => 0)\n            .attr(\"cursor\", \"pointer\")\n            .attr('rx', 3)\n            .attr(\"fill\", attrs.nodeDefaultBackground)\n\n        // Move node button group to the desired position\n        nodeUpdate\n            .select(\".node-button-g\")\n            .attr(\"transform\", ({ data, width, height }) => {\n                const x = attrs.layoutBindings[attrs.layout].buttonX({ width, height });\n                const y = attrs.layoutBindings[attrs.layout].buttonY({ width, height });\n                return `translate(${x},${y})`\n            })\n            .attr(\"display\", ({ data }) => {\n                return data._directSubordinates > 0 ? null : 'none';\n            })\n            .attr(\"opacity\", ({ children, _children }) => {\n                if (children || _children) {\n                    return 1;\n                }\n                return 0;\n            });\n\n        // Restyle node button circle\n        nodeUpdate\n            .select(\".node-button-foreign-object .node-button-div\")\n            .html((node) => {\n                return attrs.buttonContent({ node, state: attrs })\n            })\n\n        // Restyle button texts\n        nodeUpdate\n            .select(\".node-button-text\")\n            .attr(\"text-anchor\", \"middle\")\n            .attr(\"alignment-baseline\", \"middle\")\n            .attr(\"fill\", attrs.defaultTextFill)\n            .attr(\"font-size\", ({ children }) => {\n                if (children) return 40;\n                return 26;\n            })\n            .text(({ children }) => {\n                if (children) return \"-\";\n                return \"+\";\n            })\n            .attr(\"y\", this.isEdge() ? 10 : 0);\n\n        nodeUpdate.each(attrs.nodeUpdate)\n\n        // Remove any exiting nodes after transition\n        const nodeExitTransition = nodesSelection\n            .exit()\n            .attr(\"opacity\", 1)\n            .transition()\n            .duration(attrs.duration)\n            .attr(\"transform\", (d) => {\n                const ex = attrs.layoutBindings[attrs.layout].nodeJoinX({ x, y, width, height });\n                const ey = attrs.layoutBindings[attrs.layout].nodeJoinY({ x, y, width, height });\n                return `translate(${ex},${ey})`\n            })\n            .on(\"end\", function () {\n                d3.select(this).remove();\n            })\n            .attr(\"opacity\", 0);\n\n        // Store the old positions for transition.\n        nodes.forEach((d) => {\n            d.x0 = d.x;\n            d.y0 = d.y;\n        });\n\n        // CHECK FOR CENTERING\n        const centeredNode = attrs.allNodes.filter(d => d.data._centered)[0]\n        if (centeredNode) {\n            const centeredNodes = centeredNode.data._centeredWithDescendants ? centeredNode.descendants().filter((d, i) => i < 7) : [centeredNode]\n            centeredNode.data._centeredWithDescendants = null;\n            centeredNode.data._centered = null;\n            this.fit({\n                animate: true,\n                scale: false,\n                nodes: centeredNodes\n            })\n        }\n\n    }\n\n    // This function detects whether current browser is edge\n    isEdge() {\n        return window.navigator.userAgent.includes(\"Edge\");\n    }\n\n    // Generate horizontal diagonal - play with it here - https://observablehq.com/@bumbeishvili/curved-edges-horizontal-d3-v3-v4-v5-v6\n    hdiagonal(s, t, m) {\n        // Define source and target x,y coordinates\n        const x = s.x;\n        const y = s.y;\n        const ex = t.x;\n        const ey = t.y;\n\n        let mx = m && m.x || x;\n        let my = m && m.y || y;\n\n        // Values in case of top reversed and left reversed diagonals\n        let xrvs = ex - x < 0 ? -1 : 1;\n        let yrvs = ey - y < 0 ? -1 : 1;\n\n        // Define preferred curve radius\n        let rdef = 35;\n\n        // Reduce curve radius, if source-target x space is smaller\n        let r = Math.abs(ex - x) / 2 < rdef ? Math.abs(ex - x) / 2 : rdef;\n\n        // Further reduce curve radius, is y space is more small\n        r = Math.abs(ey - y) / 2 < r ? Math.abs(ey - y) / 2 : r;\n\n        // Defin width and height of link, excluding radius\n        let h = Math.abs(ey - y) / 2 - r;\n        let w = Math.abs(ex - x) / 2 - r;\n\n        // Build and return custom arc command\n        return `\n                  M ${mx} ${my}\n                  L ${mx} ${y}\n                  L ${x} ${y}\n                  L ${x + w * xrvs} ${y}\n                  C ${x + w * xrvs + r * xrvs} ${y} \n                    ${x + w * xrvs + r * xrvs} ${y} \n                    ${x + w * xrvs + r * xrvs} ${y + r * yrvs}\n                  L ${x + w * xrvs + r * xrvs} ${ey - r * yrvs} \n                  C ${x + w * xrvs + r * xrvs}  ${ey} \n                    ${x + w * xrvs + r * xrvs}  ${ey} \n                    ${ex - w * xrvs}  ${ey}\n                  L ${ex} ${ey}\n       `;\n    }\n\n    // Generate custom diagonal - play with it here - https://observablehq.com/@bumbeishvili/curved-edges\n    diagonal(s, t, m) {\n        const x = s.x;\n        const y = s.y;\n        const ex = t.x;\n        const ey = t.y;\n\n        let mx = m && m.x || x;\n        let my = m && m.y || y;\n\n        let xrvs = ex - x < 0 ? -1 : 1;\n        let yrvs = ey - y < 0 ? -1 : 1;\n\n        let rdef = 35;\n        let r = Math.abs(ex - x) / 2 < rdef ? Math.abs(ex - x) / 2 : rdef;\n\n        r = Math.abs(ey - y) / 2 < r ? Math.abs(ey - y) / 2 : r;\n\n        let h = Math.abs(ey - y) / 2 - r;\n        let w = Math.abs(ex - x) - r * 2;\n        //w=0;\n        const path = `\n                  M ${mx} ${my}\n                  L ${x} ${my}\n                  L ${x} ${y}\n                  L ${x} ${y + h * yrvs}\n                  C  ${x} ${y + h * yrvs + r * yrvs} ${x} ${y + h * yrvs + r * yrvs\n            } ${x + r * xrvs} ${y + h * yrvs + r * yrvs}\n                  L ${x + w * xrvs + r * xrvs} ${y + h * yrvs + r * yrvs}\n                  C  ${ex}  ${y + h * yrvs + r * yrvs} ${ex}  ${y + h * yrvs + r * yrvs\n            } ${ex} ${ey - h * yrvs}\n                  L ${ex} ${ey}\n       `;\n        return path;\n    }\n\n    restyleForeignObjectElements() {\n        const attrs = this.getChartState();\n\n        attrs.svg\n            .selectAll(\".node-foreign-object\")\n            .attr(\"width\", ({ width }) => width)\n            .attr(\"height\", ({ height }) => height)\n            .attr(\"x\", ({ width }) => 0)\n            .attr(\"y\", ({ height }) => 0);\n        attrs.svg\n            .selectAll(\".node-foreign-object-div\")\n            .style(\"width\", ({ width }) => `${width}px`)\n            .style(\"height\", ({ height }) => `${height}px`)\n            .html(function (d, i, arr) { return attrs.nodeContent.bind(this)(d, i, arr, attrs) })\n    }\n\n    // Toggle children on click.\n    onButtonClick(event, d) {\n        const attrs = this.getChartState();\n        if (attrs.setActiveNodeCentered) {\n            d.data._centered = true;\n            d.data._centeredWithDescendants = true;\n        }\n\n        // If childrens are expanded\n        if (d.children) {\n            //Collapse them\n            d._children = d.children;\n            d.children = null;\n\n            // Set descendants expanded property to false\n            this.setExpansionFlagToChildren(d, false);\n        } else {\n            // Expand children\n            d.children = d._children;\n            d._children = null;\n\n            // Set each children as expanded\n            if (d.children) {\n                d.children.forEach(({ data }) => (data._expanded = true));\n            }\n        }\n\n        // Redraw Graph\n        this.update(d);\n    }\n\n    // This function changes `expanded` property to descendants\n    setExpansionFlagToChildren({ data, children, _children }, flag) {\n        // Set flag to the current property\n        data._expanded = flag;\n\n        // Loop over and recursively update expanded children's descendants\n        if (children) {\n            children.forEach((d) => {\n                this.setExpansionFlagToChildren(d, flag);\n            });\n        }\n\n        // Loop over and recursively update collapsed children's descendants\n        if (_children) {\n            _children.forEach((d) => {\n                this.setExpansionFlagToChildren(d, flag);\n            });\n        }\n    }\n\n\n    // Method which only expands nodes, which have property set \"expanded=true\"\n    expandSomeNodes(d) {\n        // If node has expanded property set\n        if (d.data._expanded) {\n            // Retrieve node's parent\n            let parent = d.parent;\n\n            // While we can go up\n            while (parent) {\n                // Expand all current parent's children\n                if (parent._children) {\n                    parent.children = parent._children;\n                }\n\n                // Replace current parent holding object\n                parent = parent.parent;\n            }\n        }\n\n        // Recursivelly do the same for collapsed nodes\n        if (d._children) {\n            d._children.forEach((ch) => this.expandSomeNodes(ch));\n        }\n\n        // Recursivelly do the same for expanded nodes\n        if (d.children) {\n            d.children.forEach((ch) => this.expandSomeNodes(ch));\n        }\n    }\n\n    // This function updates nodes state and redraws graph, usually after data change\n    updateNodesState() {\n        const attrs = this.getChartState();\n\n        this.setLayouts({ expandNodesFirst: true });\n\n        // Redraw Graphs\n        this.update(attrs.root);\n    }\n\n    setLayouts({ expandNodesFirst = true }) {\n        const attrs = this.getChartState();\n        // Store new root by converting flat data to hierarchy\n        attrs.root = d3\n            .stratify()\n            .id((d) => attrs.nodeId(d))\n            .parentId(d => attrs.parentNodeId(d))(attrs.data);\n\n        attrs.root.each((node, i, arr) => {\n            let width = attrs.nodeWidth(node);\n            let height = attrs.nodeHeight(node);\n            Object.assign(node, { width, height })\n        })\n\n        // Store positions, where children appear during their enter animation\n        attrs.root.x0 = 0;\n        attrs.root.y0 = 0;\n        attrs.allNodes = attrs.root.descendants();\n\n        // Store direct and total descendants count\n        attrs.allNodes.forEach((d) => {\n            Object.assign(d.data, {\n                _directSubordinates: d.children ? d.children.length : 0,\n                _totalSubordinates: d.descendants().length - 1\n            });\n        });\n\n        if (attrs.root.children) {\n            if (expandNodesFirst) {\n                // Expand all nodes first\n                attrs.root.children.forEach(this.expand);\n            }\n            // Then collapse them all\n            attrs.root.children.forEach((d) => this.collapse(d));\n\n            // Collapse root if level is 0\n            if (attrs.expandLevel == 0) {\n                attrs.root._children = attrs.root.children;\n                attrs.root.children = null;\n            }\n\n            // Then only expand nodes, which have expanded proprty set to true\n            [attrs.root].forEach((ch) => this.expandSomeNodes(ch));\n        }\n    }\n\n    // Function which collapses passed node and it's descendants\n    collapse(d) {\n        if (d.children) {\n            d._children = d.children;\n            d._children.forEach((ch) => this.collapse(ch));\n            d.children = null;\n        }\n    }\n\n    // Function which expands passed node and it's descendants\n    expand(d) {\n        if (d._children) {\n            d.children = d._children;\n            d.children.forEach((ch) => this.expand(ch));\n            d._children = null;\n        }\n    }\n\n    // Zoom handler function\n    zoomed(event, d) {\n        const attrs = this.getChartState();\n        const chart = attrs.chart;\n\n        // Get d3 event's transform object\n        const transform = event.transform;\n\n        // Store it\n        attrs.lastTransform = transform;\n\n        // Reposition and rescale chart accordingly\n        chart.attr(\"transform\", transform);\n\n        // Apply new styles to the foreign object element\n        if (this.isEdge()) {\n            this.restyleForeignObjectElements();\n        }\n    }\n\n    zoomTreeBounds({ x0, x1, y0, y1, params = { animate: true, scale: true } }) {\n        const { centerG, svgWidth: w, svgHeight: h, svg, zoomBehavior, duration, lastTransform } = this.getChartState()\n        let scaleVal = Math.min(8, 0.9 / Math.max((x1 - x0) / w, (y1 - y0) / h));\n        let identity = d3.zoomIdentity.translate(w / 2, h / 2)\n        identity = identity.scale(params.scale ? scaleVal : lastTransform.k)\n\n        identity = identity.translate(-(x0 + x1) / 2, -(y0 + y1) / 2);\n        // Transition zoom wrapper component into specified bounds\n        svg.transition().duration(params.animate ? duration : 0).call(zoomBehavior.transform, identity);\n        centerG.transition().duration(params.animate ? duration : 0).attr('transform', 'translate(0,0)')\n    }\n\n    fit({ animate = true, nodes, scale = true } = {}) {\n        const attrs = this.getChartState();\n        const { root } = attrs;\n        let descendants = nodes ? nodes : root.descendants();\n        const minX = d3.min(descendants, d => d.x + attrs.layoutBindings[attrs.layout].nodeLeftX(d))\n        const maxX = d3.max(descendants, d => d.x + attrs.layoutBindings[attrs.layout].nodeRightX(d))\n        const minY = d3.min(descendants, d => d.y + attrs.layoutBindings[attrs.layout].nodeTopY(d))\n        const maxY = d3.max(descendants, d => d.y + attrs.layoutBindings[attrs.layout].nodeBottomY(d))\n\n        this.zoomTreeBounds({\n            params: { animate: animate, scale },\n            x0: minX - 50,\n            x1: maxX + 50,\n            y0: minY - 50,\n            y1: maxY + 50,\n        });\n        return this;\n    }\n\n    // This function can be invoked via chart.setExpanded API, it expands or collapses particular node\n    setExpanded(id, expandedFlag = true) {\n\n        const attrs = this.getChartState();\n        // Retrieve node by node Id\n        const node = attrs.allNodes.filter(({ data }) => attrs.nodeId(data) == id)[0];\n\n        if (!node) {\n            console.log(`ORG CHART - ${expandedFlag ? \"EXPAND\" : \"COLLAPSE\"} - Node with id (${id})  not found in the tree`)\n            return this;\n        }\n        node.data._expanded = expandedFlag;\n        return this;\n    }\n\n    setCentered(nodeId) {\n        const attrs = this.getChartState();\n        // this.setExpanded(nodeId)\n        const node = attrs.allNodes.filter(d => attrs.nodeId(d.data) === nodeId)[0];\n        if (!node) {\n            console.log(`ORG CHART - CENTER - Node with id (${nodeId}) not found in the tree`)\n            return this;\n        }\n        node.data._centered = true;\n        node.data._expanded = true;\n        return this;\n    }\n\n    setHighlighted(nodeId) {\n        const attrs = this.getChartState();\n        const node = attrs.allNodes.filter(d => attrs.nodeId(d.data) === nodeId)[0];\n        if (!node) {\n            console.log(`ORG CHART - HIGHLIGHT - Node with id (${nodeId})  not found in the tree`);\n            return this\n        }\n        node.data._highlighted = true;\n        node.data._expanded = true;\n        node.data._centered = true;\n        return this;\n    }\n\n    setUpToTheRootHighlighted(nodeId) {\n        const attrs = this.getChartState();\n        const node = attrs.allNodes.filter(d => attrs.nodeId(d.data) === nodeId)[0];\n        if (!node) {\n            console.log(`ORG CHART - HIGHLIGHTROOT - Node with id (${nodeId}) not found in the tree`)\n            return this;\n        }\n        node.data._upToTheRootHighlighted = true;\n        node.data._expanded = true;\n        node.ancestors().forEach(d => d.data._upToTheRootHighlighted = true)\n        return this;\n    }\n\n    clearHighlighting() {\n        const attrs = this.getChartState();\n        attrs.allNodes.forEach(d => {\n            d.data._highlighted = false;\n            d.data._upToTheRootHighlighted = false;\n        })\n        this.update(attrs.root)\n    }\n\n    // It can take selector which would go fullscreen\n    fullscreen(elem) {\n        const attrs = this.getChartState();\n        const el = d3.select(elem || attrs.container).node();\n\n        d3.select(document).on('fullscreenchange.' + attrs.id, function (d) {\n            const fsElement = document.fullscreenElement || document.mozFullscreenElement || document.webkitFullscreenElement;\n            if (fsElement == el) {\n                setTimeout(d => {\n                    attrs.svg.attr('height', window.innerHeight - 40);\n                }, 500)\n            } else {\n                attrs.svg.attr('height', attrs.svgHeight)\n            }\n        })\n\n        if (el.requestFullscreen) {\n            el.requestFullscreen();\n        } else if (el.mozRequestFullScreen) {\n            el.mozRequestFullScreen();\n        } else if (el.webkitRequestFullscreen) {\n            el.webkitRequestFullscreen();\n        } else if (el.msRequestFullscreen) {\n            el.msRequestFullscreen();\n        }\n    }\n\n    // Zoom in exposed method\n    zoomIn() {\n        const { svg, zoomBehavior } = this.getChartState();\n        svg.transition().call(zoomBehavior.scaleBy, 1.3);\n    }\n\n    // Zoom out exposed method\n    zoomOut() {\n        const { svg, zoomBehavior } = this.getChartState();\n        svg.transition().call(zoomBehavior.scaleBy, 0.78);\n    }\n\n    toDataURL(url, callback) {\n        var xhr = new XMLHttpRequest();\n        xhr.onload = function () {\n            var reader = new FileReader();\n            reader.onloadend = function () {\n                callback(reader.result);\n            }\n            reader.readAsDataURL(xhr.response);\n        };\n        xhr.open('GET', url);\n        xhr.responseType = 'blob';\n        xhr.send();\n    }\n\n    exportImg({ full = false, scale = 3, onLoad = d => d, save = true } = {}) {\n        const that = this;\n        const attrs = this.getChartState();\n        const { svg: svgImg, root } = attrs\n        let count = 0;\n        const selection = svgImg.selectAll('img')\n        let total = selection.size()\n\n        const exportImage = () => {\n            const transform = JSON.parse(JSON.stringify(that.lastTransform()));\n            const duration = that.duration();\n            if (full) {\n                that.fit();\n            }\n            const { svg } = that.getChartState()\n\n            setTimeout(d => {\n                that.downloadImage({\n                    node: svg.node(), scale, isSvg: false,\n                    onAlreadySerialized: d => {\n                        that.update(root)\n                    },\n                    onLoad: onLoad,\n                    save\n                })\n            }, full ? duration + 10 : 0)\n        }\n\n        if (total > 0) {\n            selection\n                .each(function () {\n                    that.toDataURL(this.src, (dataUrl) => {\n                        this.src = dataUrl;\n                        if (++count == total) {\n                            exportImage();\n                        }\n                    })\n                })\n        } else {\n            exportImage();\n        }\n\n\n    }\n\n\n\n    exportSvg() {\n        const { svg } = this.getChartState();\n        this.downloadImage({ node: svg.node(), scale: 3, isSvg: true })\n        return this;\n    }\n\n    expandAll() {\n        const { allNodes, root } = this.getChartState();\n        allNodes.forEach(d => d.data._expanded = true);\n        this.render()\n        return this;\n    }\n\n    collapseAll() {\n        const { allNodes, root } = this.getChartState();\n        allNodes.forEach(d => d.data._expanded = false);\n        this.expandLevel(0)\n        this.render();\n        return this;\n    }\n\n    downloadImage({ node, scale = 2, isSvg = false, save = true, onAlreadySerialized = d => { }, onLoad = d => { } }) {\n        // Retrieve svg node\n        const svgNode = node;\n\n        if (isSvg) {\n            let source = serializeString(svgNode);\n            //add xml declaration\n            source = '<?xml version=\"1.0\" standalone=\"no\"?>\\r\\n' + source;\n            //convert svg source to URI data scheme.\n            var url = \"data:image/svg+xml;charset=utf-8,\" + encodeURIComponent(source);\n            saveAs(url, \"graph.svg\");\n            onAlreadySerialized()\n            return;\n        }\n        // Get image quality index (basically,  index you can zoom in)\n        const quality = scale\n        // Create image\n        const image = document.createElement('img');\n        image.onload = function () {\n            // Create image canvas\n            const canvas = document.createElement('canvas');\n            // Set width and height based on SVG node\n            const rect = svgNode.getBoundingClientRect();\n            canvas.width = rect.width * quality;\n            canvas.height = rect.height * quality;\n            // Draw background\n            const context = canvas.getContext('2d');\n            context.fillStyle = '#FAFAFA';\n            context.fillRect(0, 0, rect.width * quality, rect.height * quality);\n            context.drawImage(image, 0, 0, rect.width * quality, rect.height * quality);\n            // Set some image metadata\n            let dt = canvas.toDataURL('image/png');\n            if (onLoad) {\n                onLoad(dt)\n            }\n            if (save) {\n                // Invoke saving function\n                saveAs(dt, 'graph.png');\n            }\n\n        };\n\n        var url = 'data:image/svg+xml; charset=utf8, ' + encodeURIComponent(serializeString(svgNode));\n\n        onAlreadySerialized()\n\n        image.src = url// URL.createObjectURL(blob);\n        // This function invokes save window\n        function saveAs(uri, filename) {\n            // create link\n            var link = document.createElement('a');\n            if (typeof link.download === 'string') {\n                document.body.appendChild(link); // Firefox requires the link to be in the body\n                link.download = filename;\n                link.href = uri;\n                link.click();\n                document.body.removeChild(link); // remove the link when done\n            } else {\n                location.replace(uri);\n            }\n        }\n        // This function serializes SVG and sets all necessary attributes\n        function serializeString(svg) {\n            const xmlns = 'http://www.w3.org/2000/xmlns/';\n            const xlinkns = 'http://www.w3.org/1999/xlink';\n            const svgns = 'http://www.w3.org/2000/svg';\n            svg = svg.cloneNode(true);\n            const fragment = window.location.href + '#';\n            const walker = document.createTreeWalker(svg, NodeFilter.SHOW_ELEMENT, null, false);\n            while (walker.nextNode()) {\n                for (const attr of walker.currentNode.attributes) {\n                    if (attr.value.includes(fragment)) {\n                        attr.value = attr.value.replace(fragment, '#');\n                    }\n                }\n            }\n            svg.setAttributeNS(xmlns, 'xmlns', svgns);\n            svg.setAttributeNS(xmlns, 'xmlns:xlink', xlinkns);\n            const serializer = new XMLSerializer();\n            const string = serializer.serializeToString(svg);\n            return string;\n        }\n    }\n\n    // Calculate what size text will take\n    getTextWidth(text, {\n        fontSize = 14,\n        fontWeight = 400,\n        defaultFont = \"Helvetice\",\n        ctx\n    } = {}) {\n        ctx.font = `${fontWeight || ''} ${fontSize}px ${defaultFont} `\n        const measurement = ctx.measureText(text);\n        return measurement.width;\n    }\n}\n"],
  "mappings": "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",
  "names": ["sum", "sum", "custom", "sum", "d", "containerRect", "node", "x", "y", "width", "height", "identity", "count"]
}
